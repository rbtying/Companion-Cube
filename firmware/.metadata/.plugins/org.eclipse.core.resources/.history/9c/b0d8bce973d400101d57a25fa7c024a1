#ifndef txSerial_h
#define txSerial_h

#include <inttypes.h>
#include "Print.h"

/******************************************************************************
 * Definitions
 ******************************************************************************/

class txSerial: public Print {
private:
	uint8_t _transmitBitMask;
	volatile uint8_t *_transmitPortRegister;

	uint16_t _tx_delay;

	virtual void write(uint8_t byte);
	void tx_pin_write(uint8_t pin_state);
	void setTX(uint8_t transmitPin);

	// private static method for timing
	static inline void tunedDelay(uint16_t delay);

public:
	// public methods
	txSerial(uint8_t transmitPin);
	void begin(long speed);
};

#endif
